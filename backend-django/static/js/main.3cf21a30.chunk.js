(this["webpackJsonpreact-frontend"]=this["webpackJsonpreact-frontend"]||[]).push([[0],{72:function(e,t,n){"use strict";n.r(t);var s=n(1),a=n.n(s),i=n(11),c=n.n(i),r=n(0),o=n(2);var l=function(e){var t=null;if(document.cookie&&""!==document.cookie)for(var n=document.cookie.split(";"),s=0;s<n.length;s++){var a=n[s].trim();if(a.substring(0,e.length+1)===e+"="){t=decodeURIComponent(a.substring(e.length+1));break}}return t};function d(e,t,n,s){var a=new XMLHttpRequest,i=JSON.stringify(n);a.responseType="json",a.open(e,window.location.protocol+"//"+window.location.hostname+"/api".concat(t));var c=l("csrftoken");"POST"!==e&&"DELETE"!==e||(a.setRequestHeader("Content-Type","application/json"),a.setRequestHeader("X-Requested-With","XMLHttpRequest"),a.setRequestHeader("X-CSRFToken",c)),a.onload=function(){s(a.response,a.status)},a.send(i)}function u(e,t,n){var s=new XMLHttpRequest;s.open(e,t),s.onload=function(){n(s.response,s.status)},s.send()}var m=function(e){var t=Object(s.useState)([]),n=Object(o.a)(t,2),a=n[0],i=n[1],c=Object(s.useState)([]),l=Object(o.a)(c,2),u=l[0],m=l[1];Object(s.useEffect)((function(){d("GET","/authenticated/",{},(function(e,t){200===t&&i(!0),m(e.username),400===t&&i(!1)}))}),[]);var b=function(e){console.log(e),window.location.href="/"+e+"/"},j="wiethof.florian98@gmail.com"===u?Object(r.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){return b("manage")},children:"Manage"}):"";return Object(r.jsxs)("div",{style:{clear:"both"},children:[Object(r.jsx)("div",{className:"",style:{float:"left"},children:Object(r.jsx)("a",{href:"/",children:Object(r.jsxs)("div",{className:"logo-container",children:[Object(r.jsx)("div",{className:"logo",children:Object(r.jsx)("img",{src:"/static/assets/img/new_logo.png",alt:"GATHR"})}),Object(r.jsx)("div",{className:"brand",children:"GATHR"})]})})}),Object(r.jsx)("div",{style:{float:"right",marginRight:50},children:a?Object(r.jsxs)("div",{children:[Object(r.jsx)("label",{style:{marginRight:10},children:u}),Object(r.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){return b("logout")},children:"Logout"}),j]}):Object(r.jsxs)("div",{children:[Object(r.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){return b("login")},children:"Login"}),Object(r.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){return b("register")},children:"Register"})]})})]})};function b(e){var t=e.subtitle,n=e.content,s=e.name;return Object(r.jsx)("div",{className:"tab-pane",id:s,children:Object(r.jsxs)("div",{className:"row",children:[Object(r.jsx)("h4",{className:"info-text",children:t}),n]})})}function j(e){var t=e.title,n=e.subtitle;return Object(r.jsxs)("div",{className:"wizard-header",children:[Object(r.jsx)("h3",{className:"wizard-title",children:t}),Object(r.jsx)("h5",{children:n})]})}function h(e){var t=e.tabNames.map((function(e,t){return Object(r.jsx)("li",{children:Object(r.jsx)("a",{href:"#".concat(e),"data-toggle":"tab",children:e})},t+e)}));return Object(r.jsx)("div",{className:"wizard-navigation",children:Object(r.jsx)("ul",{children:t})})}function p(e){var t=e.handleFormSubmitButton;return Object(r.jsxs)("div",{className:"wizard-footer",children:[Object(r.jsxs)("div",{className:"pull-right",children:[Object(r.jsx)("input",{type:"button",className:"btn btn-next btn-fill btn-success btn-wd",name:"next",value:"Next"}),Object(r.jsx)("input",{type:"button",onClick:t,className:"btn btn-finish btn-fill btn-success btn-wd",name:"finish",value:"Finish"})]}),Object(r.jsx)("div",{className:"pull-left",children:Object(r.jsx)("input",{type:"button",className:"btn btn-previous btn-fill btn-default btn-wd",name:"previous",value:"Previous"})}),Object(r.jsx)("div",{className:"clearfix"})]})}var f=function(e){var t=e.handleFormSubmitButton,n=e.showButtons,s=e.tabData,a=s.tabs.map((function(e,t){return Object(r.jsx)(b,{subtitle:e.subtitle,content:e.component,name:e.name},e.name+t)}));return Object(r.jsxs)("div",{children:[Object(r.jsx)(m,{}),Object(r.jsx)("div",{className:"container",children:Object(r.jsx)("div",{className:"row",children:Object(r.jsx)("div",{className:"col-sm-8 col-sm-offset-2",children:Object(r.jsx)("div",{className:"wizard-container",children:Object(r.jsx)("div",{className:"card wizard-card","data-color":"green",id:"wizardProfile",children:Object(r.jsxs)("form",{id:s.form_name+"-form",action:"",method:"",onSubmit:t,children:[Object(r.jsx)(j,{title:s.title,subtitle:s.subtitle}),s.title_component,Object(r.jsx)(h,{tabNames:s.tab_names}),Object(r.jsx)("div",{className:"tab-content",children:a}),n&&Object(r.jsx)(p,{handleFormSubmitButton:t})]})})})})})})]})};function x(e){var t=e.entries,n=e.title,s=e.img_url;return t=t.map((function(e){return Object(r.jsx)(v,{name:e.name,iconName:e.iconName,description:e.description,text_box:e.text_box})})),Object(r.jsxs)("div",{className:"row",children:[s&&Object(r.jsx)("div",{className:"flash_art",children:Object(r.jsx)("img",{src:s,alt:"GATHR"})}),Object(r.jsx)("div",{className:"unterschrift titel_trenner bold",children:Object(r.jsx)("p",{children:n})}),Object(r.jsx)("div",{className:"col-sm-10 col-sm-offset-1",children:t})]})}function O(e){var t=e.entries,n=e.img_url,s=e.title,a=e.n_columns,i=t.map((function(e,t){return Object(r.jsx)(g,{onClick:e.onClick,displayName:e.displayName,name:e.name,description:e.description,type:e.type,entries:e.entries},t+e.name)}));if(2===a){var c=[],o=[];i.map((function(e,t){return t%2===0?c.push(e):o.push(e),0})),i=Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{className:"col-sm-5",children:c}),Object(r.jsx)("div",{className:"col-sm-5",children:o})]})}return Object(r.jsxs)("div",{className:"col-sm-12",children:[n&&Object(r.jsx)("div",{className:"flash_art",children:Object(r.jsx)("img",{src:n,alt:"GATHR"})}),Object(r.jsx)("div",{className:"unterschrift",children:Object(r.jsx)("p",{children:s})}),i]})}function v(e){var t=e.name,n=e.iconName,s=e.description,a=e.text_box;return Object(r.jsx)("div",{className:"col-sm-4",children:Object(r.jsxs)("div",{className:"choice","data-toggle":"wizard-radio",rel:"tooltip",title:a,children:[Object(r.jsx)("input",{type:"radio",name:"intent",value:t}),Object(r.jsx)("div",{className:"icon",children:Object(r.jsx)("i",{className:"material-icons",children:n})}),Object(r.jsx)("h6",{children:s})]})})}function g(e){var t,n=e.name,s=e.displayName,a=e.type,i=e.required,c=e.entries,o=e.iconName,l=e.onClick,d=Object(r.jsx)("label",{className:"",children:s}),u=Object(r.jsx)("input",{name:n,type:a,className:"form-control"});switch(i&&u.setAttribute("required",!0),a){case"dropdown":t=Object(r.jsxs)("div",{children:[d,Object(r.jsx)(y,{entries:c,name:n})]});break;case"radio":t=Object(r.jsxs)("div",{children:[u,d]});break;case"checkbox":u=Object(r.jsx)("input",{id:n,name:n,type:a,className:"form-control",onClick:l}),t=Object(r.jsxs)("div",{style:{textAlign:"center"},children:[u,d]});break;case"date":u=Object(r.jsx)("input",{name:n,type:a,className:"form-control",defaultValue:"2020-01-01"}),t=Object(r.jsxs)("div",{children:[d,u]});break;default:t=Object(r.jsxs)("div",{children:[d,u]})}return Object(r.jsxs)("div",{className:"input-group",children:[Object(r.jsx)("span",{className:"input-group-addon",children:o&&Object(r.jsx)("i",{className:"material-icons",children:o})}),Object(r.jsx)("div",{className:"form-group label-floating",children:t})]})}function y(e){var t=e.entries,n=e.onChangeFun,s=e.name;return t.sort(),t=t.map((function(e,t){return Object(r.jsx)("option",{value:e,children:e},e+t)})),Object(r.jsx)("div",{children:Object(r.jsx)("select",{id:s.toLowerCase(),className:"form-control",onChange:n,children:t})})}function N(e){return Object(r.jsx)("div",{className:"row",children:Object(r.jsx)("div",{class:"col-sm-12",children:Object(r.jsxs)("div",{style:{textAlign:"center",marginRight:50,marginLeft:50},children:[Object(r.jsx)("h3",{children:"Event details"}),Object(r.jsxs)("u",{children:[Object(r.jsx)("li",{children:"Date: 22nd of January 2021"}),Object(r.jsx)("li",{children:"Time: 7pm German Time"})]}),Object(r.jsx)("br",{}),Object(r.jsx)("a",{href:"/static/assets/calendar/GATHR_Event.ics",children:" Download .ics"}),Object(r.jsxs)("p",{class:"bold",children:[Object(r.jsx)("br",{}),"An invitation to the plattform will get to you via e-mail a few days before the event."]}),Object(r.jsx)("h3",{children:"What else can I do?"}),Object(r.jsx)("p",{class:"unterschrift",children:"Tell your friends! - The more people join the event, the more fun it will be!"}),Object(r.jsx)("a",{class:"ref_link",target:"_blank",rel:"noreferrer",href:"https://rebrand.ly/gathr_join_codeWU34",children:"https://rebrand.ly/gathr_join_codeWU34"}),Object(r.jsx)("p",{class:"ref_text bold",children:"Share this link, and they will receive prioritized access to make sure all of you participate in the same event."})]})})})}var w=function(e){return Object(r.jsx)(f,{tabData:K,showButtons:!1})},k=n(3),E=n.n(k);var _=function(e){var t=Object(s.useState)([]),n=Object(o.a)(t,2),a=n[0],i=n[1],c=Object(s.useState)({display:!1,message:"Data successfully submitted"}),l=Object(o.a)(c,2),u=l[0],m=l[1];Object(s.useEffect)((function(){d("GET","/hobby/?action=all",{},(function(e,t){200===t&&i(e.map((function(e){return e.name})))}))}),[]);for(var b=[],j=0;j<$.hobbies.n_hobbies;j++)b.push({name:"hobby"+j,displayName:"Hobby "+j,type:"dropdown",entries:a});return Object(r.jsxs)("div",{children:[Object(r.jsxs)("form",{id:"matching-form",children:[Object(r.jsx)(O,{entries:b,title:$.hobbies.subtitle,n_columns:2}),Object(r.jsx)(O,{entries:$.language.entries,title:$.language.subtitle,n_columns:2}),Object(r.jsx)(O,{entries:$.studies.entries,title:$.studies.subtitle,n_columns:2})]}),Object(r.jsx)("button",{className:"btn btn-primary btn_full_width",onClick:function(e){e.preventDefault();var t=document.getElementById("matching-form");console.log(t);var n=new FormData(t),s={hobbies:[]};n.forEach((function(e,t){t.startsWith("language-")?s.language=t.replace("language-",""):t.startsWith("study-")&&(s.studies=t.replace("study-",""))}));for(var a=0;a<$.hobbies.n_hobbies;a++)s.hobbies.push({name:E()("#hobby"+a+" option:selected").val()});console.log(s),d("POST","/preference/assign/",s,(function(e,t){console.log(e),200===t&&m({display:!0,message:"Data successfully submitted!"}),200!==t&&m({display:!0,message:"An error occurred, please try again!"})}))},children:"Submit"}),Object(r.jsx)("div",{style:{textAlign:"center",color:"green"},children:u.display&&u.message})]})};var T=function(e){var t=e.days,n=e.hours,s=e.minutes,a=e.seconds,i=parseInt(t)<0||parseInt(n)<0||parseInt(s)<0||parseInt(a)<0;return Object(r.jsx)("div",{id:"content-wrap",style:i?{display:"none"}:{display:"block"},children:Object(r.jsx)("main",{className:"row",children:Object(r.jsx)("div",{id:"main-content",className:"twelve columns",children:Object(r.jsxs)("div",{id:"counter",className:"group",children:[t&&Object(r.jsxs)("span",{children:[t," ",Object(r.jsx)("em",{children:"days"})]}),n&&Object(r.jsxs)("span",{children:[n," ",Object(r.jsx)("em",{children:"hours"})]}),s&&Object(r.jsxs)("span",{children:[s," ",Object(r.jsx)("em",{children:"minutes"})]}),a&&Object(r.jsxs)("span",{children:[a," ",Object(r.jsx)("em",{children:"seconds"})]})]})})})})};function S(e){var t=e.name,n=e.age,s=e.university,a=e.studies,i=e.status;return Object(r.jsxs)("div",{style:{borderColor:"black",borderStyle:"dashed",borderWidth:2,paddingLeft:5,textAlign:"left"},children:[Object(r.jsxs)("h5",{children:[t,", ",n]}),Object(r.jsx)("h6",{children:s}),Object(r.jsxs)("h6",{children:[a,", ",i]})]})}var D=function(e){var t=e.entries,n=e.user,s=e.setEventDisplay,a=e.timer,i=n.map((function(e){var t=Math.floor((new Date-new Date(e.birthday))/31536e6);return Object(r.jsx)(S,{name:e.first_name+" "+e.last_name,age:t,university:e.university,studies:e.studies,status:e.status})})),c=t.map((function(e,t){return Object(r.jsx)("div",{className:"col-sm-4",children:Object(r.jsx)(g,{name:e.name,displayName:e.displayName,type:e.type,onClick:function(){return function(e){for(var t=E()("input[type=checkbox]"),n=[],s=0;s<t.length;s++)t[s].getAttribute("name").startsWith("feedback")&&n.push(t[s]);console.log(n);for(var a=0;a<e;a++)n[a].checked=!0;for(var i=e+1;i<n.length;i++)n[i].checked=!1}(t)}})})}));return Object(r.jsx)("form",{method:"POST",id:"feedback-form",children:Object(r.jsxs)("div",{style:{paddingLeft:20,paddingRight:20,marginTop:10,textAlign:"center"},children:[Object(r.jsx)("h4",{children:"What do you want to do next?"}),Object(r.jsx)(T,{minutes:a.minutes,seconds:a.seconds}),Object(r.jsx)("div",{className:"col-sm-6",children:i}),Object(r.jsx)("div",{className:"col-sm-12",children:c}),Object(r.jsx)("div",{className:"col-sm-12",children:Object(r.jsx)("button",{className:"btn btn-primary",onClick:function(e){e.preventDefault();var t=document.getElementById("feedback-form"),n=new FormData(t),a={};n.forEach((function(e,t){a.content=t.replace("feedback-","")})),d("POST","/friends/feedback/",a,(function(e,t){console.log(e)})),s("current")},children:"Submit"})})]})})};function C(e){var t=e.name,n=e.title,s=e.text;return Object(r.jsxs)("div",{className:"panel panel-default",children:[Object(r.jsx)("div",{className:"panel-heading",children:Object(r.jsx)("h4",{className:"panel-title",children:Object(r.jsx)("a",{"data-toggle":"collapse","data-parent":"#accordion",href:"#"+t,children:n})})}),Object(r.jsx)("div",{id:t,className:"panel-collapse collapse",children:Object(r.jsx)("div",{className:"panel-body",children:s})})]})}var P=function(e){var t=e.entries;return t=t.map((function(e){return Object(r.jsx)(C,{name:e.name,title:e.title,text:e.text})})),Object(r.jsx)("div",{className:"panel-group",id:"accordion",children:t})};var A=function(e){return Object(r.jsxs)("div",{className:"row",children:[Object(r.jsx)("div",{class:"col-sm-12",children:Object(r.jsxs)("div",{id:"content_aboutus",children:[Object(r.jsx)("p",{class:"unterschrift",children:Q.description}),Object(r.jsx)("img",{src:"/static/assets/img/explainer_low_qual_jpg_res15_qual80.jpg",alt:"Gathr pipeline",class:"explainer"})]})}),Object(r.jsx)("div",{class:"unterschrift bold",children:Object(r.jsxs)("p",{children:[Object(r.jsx)("br",{}),Q.subtitle]})}),Object(r.jsx)(P,{entries:Q.entries})]})};var I=function(e){return Object(r.jsxs)("div",{style:{marginTop:100,textAlign:"center"},children:[Object(r.jsx)("div",{className:"col-sm-5",children:Object(r.jsxs)("h4",{children:["Excited for the next event? ",Object(r.jsx)("br",{})," So are we!"]})}),Object(r.jsx)("div",{className:"col-sm-5",children:Object(r.jsx)("div",{className:"flash_art",children:Object(r.jsx)("img",{src:"/static/assets/img/flash_art.png",alt:"GATHR"})})})]})};function G(e,t,s){for(var a=Object.keys(t).map((function(e){return e+"="+t[e]})),i="",c=0;c<a.length;c++)i+=a[c]+"&";return(i=i.slice(0,-1))+"&checksum="+function(e,t,s){var a=n(41).create();return a.update(e+t+s),a.hex()}(e,i,s)}function M(e,t){return"http://127.0.0.1:4000/"+e+"/?"+G(e,t,"1UnwHs8VgywAgqB4DZeCm7bdGOAZPZCUtkarDLvQ")}function R(e,t){return"http://bbb.gathr.de/bigbluebutton/api/"+e+"?"+G(e,t,"1UnwHs8VgywAgqB4DZeCm7bdGOAZPZCUtkarDLvQ")}function H(e){var t=e.name,n=e.age,s=e.university,a=e.studies,i=e.status;return Object(r.jsxs)("div",{style:{borderColor:"black",borderStyle:"dashed",borderWidth:2,paddingLeft:5,textAlign:"left"},children:[Object(r.jsxs)("h5",{children:[t,", ",n]}),Object(r.jsx)("h6",{children:s}),Object(r.jsxs)("h6",{children:[a,", ",i]})]})}function q(e){var t=e.hobbies;e.intent;return Object(r.jsx)("div",{children:Object(r.jsxs)("div",{style:{paddingLeft:5,textAlign:"left"},children:[Object(r.jsx)("h5",{children:"Hobbies:"}),t]})})}var B=function(e){var t=e.user,n=e.match,a=e.setParticipate,i=e.socket,c=e.setEventDisplay,l=e.timer,m=e.setLeaveError,b=t.map((function(e){var t=Math.floor((new Date-new Date(e.birthday))/31536e6);return Object(r.jsx)(H,{name:e.first_name+" "+e.last_name,age:t,university:e.university,studies:e.studies,status:e.status})})),j=Object(s.useState)([]),h=Object(o.a)(j,2),p=h[0],f=h[1];console.log(t[0].hobbies);var x=t[0].hobbies.map((function(e){return Object(r.jsxs)("div",{children:[Object(r.jsx)("p",{children:e}),Object(r.jsx)("br",{})]})}));return Object(s.useEffect)((function(){d("GET","/authenticated/",{},(function(e,t){200===t&&f(e)}))}),[]),Object(r.jsxs)("div",{style:{marginTop:10,textAlign:"center"},children:[Object(r.jsxs)("h4",{children:["You were matched! ",Object(r.jsx)("br",{}),"Join the call ",Object(r.jsx)("a",{href:"#",onClick:function(){var e={},t={};e.meetingID=n.name.replace(" ","+")+n.id,console.log(n.id),e.moderatorPW="aVeryDifficultPassword",e.attendeePW="justADifficultPassword",e.duration=10,t.meetingID=e.meetingID,t.password=e.moderatorPW;var s=p.first_name+" "+p.last_name;s=s.replace(" ","+"),t.fullName=s,t.redirect=!0,u("GET",M("create",e),(function(e){window.open(R("join",t))}))},children:"here"}),"!"]}),Object(r.jsx)(T,{minutes:l.minutes,seconds:l.seconds}),Object(r.jsx)("div",{className:"col-sm-6",children:b}),Object(r.jsx)("div",{className:"col-sm-5",children:Object(r.jsx)(q,{hobbies:x,intent:t.intent})}),Object(r.jsx)("div",{className:"form-inline col-sm-12",style:{textAlign:"center",marginTop:20},children:Object(r.jsx)("button",{type:"button",className:"btn btn-warning",onClick:function(){d("POST","/participate/",{participate:!1},(function(e,n){i.emit("LeaveEvent",t[0]),a(!1),c("waiting"),m({display:!0,message:"Your match left the event, please wait for the next round!"})}))},children:"Leave"})})]})};var L=function(e){var t=e.setParticipate,n=e.socket,a=e.nextEvent,i=e.setEventDisplay,c=e.leaveError,l=Object(s.useState)([]),u=Object(o.a)(l,2),m=u[0],b=u[1];Object(s.useEffect)((function(){d("GET","/authenticated/",{},(function(e,t){200===t&&b(e)}))}),[]);var j=function(){var e=document.getElementsByName("participating")[0].checked;d("POST","/participate/",{participate:e},(function(s,c){n.emit("UpdateMatch",{});var r={},o=m.first_name+" "+m.last_name;o=o.replace(" ","+"),r.fullName=o,r.meetingID=a.meetingID,r.redirect=!0,r.password=a.moderatorPW+"1",t(e),i("match"),window.open(R("join",r))}))},h=[{name:"participating",displayName:"Yes, I want to join!",type:"checkbox",onClick:""}].map((function(e,t){return Object(r.jsx)(g,{name:e.name,displayName:e.displayName,type:e.type,onClick:j},t+e)}));return Object(r.jsxs)("div",{style:{marginTop:30,marginBottom:50,textAlign:"center"},children:[c.display&&Object(r.jsx)("div",{className:"col-sm-12",style:{color:"red"},children:c.message}),Object(r.jsxs)("div",{className:"col-sm-12",style:{marginTop:30},children:[Object(r.jsxs)("div",{className:"col-sm-5",children:[Object(r.jsxs)("h4",{children:["An event is currently in process ",Object(r.jsx)("br",{})," Would you like to join?"]}),h]}),Object(r.jsx)("div",{className:"col-sm-5",children:Object(r.jsx)("div",{className:"flash_art",children:Object(r.jsx)("img",{src:"/static/assets/img/flash_art.png",alt:"GATHR"})})})]})]})};var W=function(e){var t=e.name,n=Object(s.useState)([]),a=Object(o.a)(n,2),i=a[0],c=a[1];Object(s.useEffect)((function(){d("GET","/"+t+"/?action=all",{},(function(e,t){200===t&&c(e)}))}),[]);var l=function(e){var t=E()("#event option:selected").val();"start"===e?d("GET","/event/?action=next",{},(function(e,t){var n={},s={};n.meetingID=e.meetingID,n.moderatorPW=e.moderatorPW,n.attendeePW=e.moderatorPW+"1",n.redirect=!0,s.fullName="Florian+Wiethof",s.meetingID=e.meetingID,s.redirect=!0,s.password=e.moderatorPW,u("GET",M("create",n),(function(e){window.open(R("join",s))}))})):"cleanup"===e?d("GET","/event/cleanup/",{},(function(e,t){console.log(e)})):"delete"===e&&d("GET","/event/delete/",{name:t},(function(e,t){console.log(e)}))},m=[{name:"event",displayName:"Upcoming events",type:"dropdown",entries:i.map((function(e){return e.name}))}];return Object(r.jsxs)("div",{children:[Object(r.jsxs)("form",{id:"event-form",children:[Object(r.jsx)(O,{entries:ae}),Object(r.jsx)("button",{className:"btn btn-primary",onClick:function(e){e.preventDefault();var t=document.getElementById("event-form"),n=new FormData(t),s={};n.forEach((function(e,t){s[t]=e})),""!==s.time?s.time=s.date+" "+s.time:s.time=s.date,delete s.date,d("POST","/event/create/",s,(function(e,t){}))},children:"Submit"}),Object(r.jsx)(O,{entries:m})]}),Object(r.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){return l("delete")},children:"Delete"}),Object(r.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){return l("start")},children:"Start"}),Object(r.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){return l("cleanup")},children:"Cleanup"})]})};var F=function(e){var t=e.name,n=Object(s.useState)([]),a=Object(o.a)(n,2),i=a[0],c=a[1];Object(s.useEffect)((function(){d("GET","/"+t+"/?action=all",{},(function(e,t){200===t&&c(e),console.log(e)}))}),[]);var l=[{name:"hobby",displayName:"Existing hobbies",type:"dropdown",entries:i.map((function(e){return e.name}))}];return Object(r.jsxs)("div",{children:[Object(r.jsxs)("form",{id:"hobby-form",children:[Object(r.jsx)(O,{entries:ie}),Object(r.jsx)("button",{className:"btn btn-primary",onClick:function(e){e.preventDefault();var t=document.getElementById("hobby-form"),n=new FormData(t),s={};n.forEach((function(e,t){s[t]=e})),""!==s.time?s.time=s.date+" "+s.time:s.time=s.date,d("POST","/hobby/create/",s,(function(e,t){console.log(e)}))},children:"Submit"}),Object(r.jsx)(O,{entries:l})]}),Object(r.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){d("POST","/hobby/"+"delete"+"/",{name:E()("#hobby option:selected").val()},(function(e,t){console.log(e)}))},children:"Delete"})]})};var U=function(e){return Object(r.jsxs)("div",{style:{textAlign:"center",marginTop:50},children:[Object(r.jsx)("h5",{children:"Import users and user profiles from CSV"}),Object(r.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){d("GET","/import/",{},(function(e,t){console.log(e)}))},children:"Import Users"}),Object(r.jsx)("h5",{children:"Trigger the matching process"}),Object(r.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){d("GET","/event/start/",{},(function(e,t){console.log(e)}))},children:"Trigger Matching"})]})};var Y=function(e){var t=e.setParticipate,n=e.socket,s=e.timer,a=function(){var e=document.getElementsByName("participating")[0].checked;d("POST","/participate/",{participate:e},(function(s,a){n.emit("UpdateMatch",{}),t(e)}))},i=[{name:"participating",displayName:"Yes, I want to join!",type:"checkbox",onClick:""}].map((function(e){return Object(r.jsx)(g,{name:e.name,displayName:e.displayName,type:e.type,onClick:a})}));return Object(r.jsxs)("div",{style:{marginTop:50,marginBottom:50,textAlign:"center"},children:[Object(r.jsxs)("div",{className:"col-sm-5",children:[Object(r.jsx)(T,{minutes:s.minutes,seconds:s.seconds}),Object(r.jsxs)("h4",{children:["There's no match for you this round. ",Object(r.jsx)("br",{})," Would you like to join the next?"]}),i]}),Object(r.jsx)("div",{className:"col-sm-5",children:Object(r.jsx)("div",{className:"flash_art",children:Object(r.jsx)("img",{src:"/static/assets/img/flash_art.png",alt:"GATHR"})})})]})};var z=function(e){return Object(r.jsxs)("div",{style:{marginTop:50,marginBottom:50,textAlign:"center"},children:[Object(r.jsx)("div",{className:"col-sm-5",children:Object(r.jsxs)("h4",{children:["We hope you liked the event! ",Object(r.jsx)("br",{})," If you enjoyed it, please consider supporting us with a coffee, so we can continue the development!"]})}),Object(r.jsx)("div",{className:"col-sm-5",children:Object(r.jsx)("div",{className:"flash_art",children:Object(r.jsx)("img",{src:"/static/assets/img/flash_art.png",alt:"GATHR"})})})]})};function J(e){var t=e.name,n=e.age,s=e.university,a=e.studies,i=e.status,c=e.email,o=e.phone;return Object(r.jsxs)("div",{className:"col-sm-5",style:{borderColor:"black",borderStyle:"dashed",borderWidth:2,paddingLeft:5,textAlign:"left"},children:[Object(r.jsxs)("h5",{children:[t,", ",n]}),Object(r.jsx)("h6",{children:s.split(" ")[1]}),Object(r.jsxs)("h6",{children:[a,", ",i]}),Object(r.jsxs)("h6",{children:["Mail: ",c]}),Object(r.jsxs)("h6",{children:["Phone: ",o]})]})}var V=function(e){var t=Object(s.useState)([]),n=Object(o.a)(t,2),a=n[0],i=n[1];return Object(s.useEffect)((function(){d("GET","/friends/",{},(function(e,t){console.log(e);for(var n=0,s=Object.entries(e);n<s.length;n++){var a=Object(o.a)(s[n],2),c=a[0],l=a[1];e[c]=l.map((function(e){var t=Math.floor((new Date-new Date(e.birthday))/31536e6);return Object(r.jsx)(J,{name:e.first_name+" "+e.last_name,age:t,university:e.university,studies:e.studies,status:e.status,email:e.email,phone:e.phone})}))}i(e)}))}),[]),Object(r.jsxs)("div",{style:{paddingLeft:20,paddingRight:20,marginTop:10,textAlign:"center"},children:[Object(r.jsxs)("div",{className:"col-sm-12",children:[Object(r.jsx)("h4",{children:"People you want to meet again:"}),a.cat_3]}),Object(r.jsxs)("div",{className:"col-sm-12",children:[Object(r.jsx)("h4",{children:"People you shared contacts with:"}),a.cat_2]})]})},Z=[{name:"first_name",displayName:"First Name",type:"text",required:!0},{name:"last_name",displayName:"Last Name",type:"text",required:!0},{name:"birthday",displayName:"Birthday",type:"date",required:!0},{name:"email",displayName:"E-Mail",type:"email",required:!0},{name:"password",displayName:"Password",type:"password",required:!0},{name:"phone",displayName:"Phone number (+xx xxxx xxxxxxxx)",type:"text",required:!1},{name:"university",displayName:"University",type:"dropdown",required:!0,entries:["A) TUM","B) LMU","C) Hochschule M\xfcnchen","D) Other"]},{name:"studies",displayName:"Field of Studies",type:"dropdown",required:!0,entries:["","- Electrical Engineering","- Biology","- Chemistry","- Physics","- Space Sciences","- Informatics","- Computer Engineering","- Mathematics","- Medicine & Health","- Business & Management","- Economics","- Communication & Media","- Political science","- Mechanical Engineering","- Law","- Philosophy","- Sport Sciences","Other Social Sciences","Other Humanities","Other Engineering Sciences","Other Natural Sciences","Other Arts","Other Studies"]},{name:"status",displayName:"Level",type:"dropdown",required:!0,entries:["Bachelor","Master","PhD"]},{name:"semester",displayName:"Semester (in your current studies)",type:"dropdown",required:!0,entries:[1,2,3,4,5,6,7,8,9]},{name:"data_check",displayName:"By clicking on the \u201cFinish\u201d-button, I confirm that my data can be used for purposes described in the Privacy Policy.*",type:"checkbox",required:!0},{name:"mail_check",displayName:"I agree to receive E-Mails reminding me of upcoming events and other useful information related to the services of Gathr.de*",type:"checkbox",required:!0}],X={title:"GATHR Meet&Mingle Roulette",subtitle:"Next online event: 22nd of January, 7pm",tab_names:["HOME","SIGN-UP"],title_component:"",form_name:"register",tabs:[{name:"HOME",subtitle:"GET TO KNOW OTHER STUDENTS",component:Object(r.jsx)(A,{})},{name:"SIGN-UP",subtitle:"Tell us about yourself!",component:Object(r.jsxs)("div",{children:[Object(r.jsx)(O,{entries:Z,n_columns:2}),Object(r.jsx)(x,{entries:[{name:"students",description:"No, Simply Connect Me With Other Students",iconName:"groups",text_box:"Choose to get to know a variety of students from Munich!"},{name:"tandem",description:"Yes, Find Tandem Learning Partners",iconName:"menu_book",text_box:"Choose to find new study pals for university, languages, and skill exchanges!"},{name:"sports",description:"Yes, Find Sport Partners",iconName:"sports_handball",text_box:"Choose to get connected with athletes and sport friends around you!"},{name:"founder",description:"Yes, Find Start-Up Co-Founders",iconName:"emoji_objects",text_box:"Choose to connect with start-up enthusiasts!"}]})]})}]},Q={description:"Munich Universities - Sport Partners - Learning Groups - Co-Founders - Friends",entries:[{name:"faq1",title:"What is GATHR?",text:"GATHR is an exciting new online event that will match you with like-minded people! No matter if you want to find other students from your studies for a learning group, if you search for sports partners, or if you want to find the perfect co-founder for your next start-up."},{name:"faq2",title:"How does a GATHR event work?",text:"Every GATHR event aims at getting you in contact with as many other Munich students as possible! You will meet 1-2 other participants in speed-meeting video calls for 10 minutes. After getting to know each other, you can vote whether you want to stay in contact and meet again. Then, the next video round start and you will be connected with new participants."},{name:"faq3",title:"Who will I meet?",text:"Depending on the criteria you defined in your profile, you will meet a variety of students from Munich! Some are new in the city and search for connections, some others search for sport partners or learning exchanges, and some will invite you to found the next big start-up! Which group will you belong to? :)"},{name:"faq4",title:"What are the matching criteria?",text:"The matching ensures that you meet people which have similar interests and hobbies as you. After registration, you fill out a questionnaire that is used for matching. We ask about your studies, your hobbies, and what your goal for connecting with new people is."},{name:"faq5",title:"How does the voting work?",text:"The voting helps you and your conversation partners to quickly align on a common interest and on the next activity you want to do. After each video round, everyone gets to vote on whether you want to meet again. If two people select the same option, you get informed and can start organizing your next meeting!"},{name:"faq6",title:"Do I need to prepare anything?",text:"No :) You can just join our next online event, and we will connect you with other students in Munich! In order to help kickstart your conversations, we even provide you with ice-breaking questions!"},{name:"faq7",title:"Is it free?",text:"Yes, GATHR is free! Our goal is to become a plattform available for all Munich students to connect!"},{name:"faq8",title:"Who can I contact for questions or feedback?",text:"We would love to hear from you! You can always write us via e-mail at info@gathr.de !"}],subtitle:"FAQ"},K={title:"Your registration was successful!",subtitle:"We will help you GATHR!",title_component:"",tab_names:["HOME"],tabs:[{name:"WELCOME",subtitle:"",component:Object(r.jsx)(N,{})}]},$={subtitle:"Select y",language:{subtitle:"Language",entries:[{name:"language-german",displayName:"Speaking German",type:"checkbox"},{name:"language-english",displayName:"Speaking English",type:"checkbox"}]},studies:{subtitle:"I want to meet...",entries:[{name:"study-same",displayName:"People in my course of study",type:"checkbox"},{name:"study-any",displayName:"People from different studies and universities",type:"checkbox"}]},hobbies:{subtitle:"Select your 5 favourite hobbies:",entries:[1,2,3,4,5],n_hobbies:5}},ee=[{name:"feedback-1",displayName:"Nothing",type:"checkbox"},{name:"feedback-2",displayName:"More",type:"checkbox"},{name:"feedback-3",displayName:"Even more!",type:"checkbox"}],te={title:"Ready to meet new people?",subtitle:"",title_component:"",tab_names:["Friends","Matching","Event"],tabs:[{name:"Friends",subtitle:"Here are the people you enjoyed the time with!",component:Object(r.jsx)(V,{})},{name:"Matching",subtitle:"Let's get you prepared for matching!",component:Object(r.jsx)(_,{})},{name:"Event",subtitle:"PLACEHOLDER",component:"PLACEHOLDER"}],event_tab_options:{waiting:{name:"Event",subtitle:"",component:Object(r.jsx)(I,{})},match:{name:"Event",subtitle:"",component:Object(r.jsx)(B,{})},feedback:{name:"Event",subtitle:"",component:Object(r.jsx)(D,{entries:ee})},current:{name:"Event",subtitle:"",component:Object(r.jsx)(L,{})},nomatch:{name:"Event",subtitle:"",component:Object(r.jsx)(Y,{})},end:{name:"Event",subtitle:"Thanks for participating!",component:Object(r.jsx)(z,{})}}},ne=[{name:"username",displayName:"Username (or mail address)",type:"text",required:!0},{name:"password",displayName:"Password",type:"password",required:!0}],se={title:"Login to your account!",subtitle:"",title_component:"",form_name:"",tab_names:["LOGIN"],tabs:[{name:"LOGIN",subtitle:"",component:Object(r.jsx)(O,{entries:ne,n_columns:2})}]},ae=[{name:"name",displayName:"Event Title",type:"text"},{name:"meetingID",displayName:"Meeting ID",type:"text"},{name:"date",displayName:"Date",type:"date"},{name:"time",displayName:"Time",type:"time"},{name:"moderatorPW",displayName:"Moderator password",type:"text"}],ie=[{name:"name",displayName:"Hobby name",type:"text"}],ce={title:"Manage Gathr",subtitle:"Creation and deletion of models",title_component:"",tab_names:["EVENTS","HOBBIES","USERS"],tabs:[{name:"EVENTS",subtitle:"Create, delete or start events",component:Object(r.jsx)(W,{name:"event"})},{name:"HOBBIES",subtitle:"Create or delete hobbies",component:Object(r.jsx)(F,{name:"hobby"})},{name:"USERS",subtitle:"Create or delete hobbies",component:Object(r.jsx)(U,{})}]};var re=function(e){return Object(r.jsx)("div",{children:Object(r.jsx)(f,{tabData:ce,showButtons:!1})})};var oe=function(e){return Object(r.jsx)(f,{tabData:X,handleFormSubmitButton:function(e){e.preventDefault();var t=document.getElementById(X.form_name+"-form"),n=new FormData(t),s={};n.forEach((function(e,t){s[t]=e}));for(var a=0;a<Z.length;a++)"dropdown"===Z[a].type&&(s[Z[a].name]=E()("#"+Z[a].name+" option:selected").val());s.intent=E()("input[type=radio][checked=checked]").val(),d("POST","/register/",s,(function(e,t){console.log(e),200===t&&(window.location.href="/")}))},showButtons:!0})},le=n(35),de=n.n(le),ue="http://"+window.location.hostname+":4001";function me(e){var t={};return e=Math.floor(e/1e3),t.days=Math.floor(e/86400).toString(),e%=86400,t.hours=Math.floor(e/3600).toString(),e%=3600,t.minutes=Math.floor(e/60).toString(),e%=60,t.seconds=e.toString(),t}function be(e){var t=function(e){return e<10?"0"+e:e};return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][e.getDay()]+", "+e.getDate()+". "+["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()]+" "+e.getFullYear()+", "+t(e.getHours())+":"+t(e.getMinutes())}var je=function(e){var t=Object(s.useState)("current"),n=Object(o.a)(t,2),a=n[0],i=n[1],c=Object(s.useRef)(a),l=function(e){c.current=e,i(e)},u=Object(s.useState)(0),m=Object(o.a)(u,2),b=m[0],j=m[1],h=Object(s.useRef)(b),p=function(e){h.current=e,j(e)},x=Object(s.useState)({display:!1,message:"This is an error"}),O=Object(o.a)(x,2),v=O[0],g=O[1],y=Object(s.useState)([]),N=Object(o.a)(y,2),w=N[0],k=N[1],E=Object(s.useState)([]),_=Object(o.a)(E,2),S=_[0],C=_[1],P=Object(s.useRef)(S),A=function(e){P.current=e,C(e)},I=Object(s.useState)([]),G=Object(o.a)(I,2),M=G[0],R=G[1],H=Object(s.useRef)(M),q=function(e){H.current=e,R(e)},W=Object(s.useState)(!1),F=Object(o.a)(W,2),U=F[0],z=F[1],J=Object(s.useState)({days:"-1",hours:"0",minutes:"0",seconds:"0"}),V=Object(o.a)(J,2),Z=V[0],X=V[1],Q=Object(s.useState)({days:"-1",hours:"0",minutes:"0",seconds:"0"}),K=Object(o.a)(Q,2),$=K[0],ne=K[1],se=Object(s.useState)({days:"-1",hours:"0",minutes:"0",seconds:"0"}),ae=Object(o.a)(se,2),ie=ae[0],ce=ae[1],re=Object(s.useState)(new Date),oe=Object(o.a)(re,2),le=oe[0],je=oe[1],he=Object(s.useRef)(le),pe=function(e){he.current=e,je(e)},fe=Object(s.useState)(0),xe=Object(o.a)(fe,2),Oe=xe[0],ve=xe[1],ge=Object(s.useRef)(Oe),ye=Object(s.useRef)(Z),Ne=Object(s.useState)(!0),we=Object(o.a)(Ne,2),ke=we[0],Ee=we[1],_e=Object(s.useRef)(ke),Te=function(e){_e.current=e,Ee(e)};return U||z(de()(ue,{transports:["websocket"]})),Object(s.useEffect)((function(){d("GET","/event/?action=next",{},(function(e,t){200===t&&k(e)})),d("GET","/room/?action=my",{},(function(e,t){200===t&&A(e),console.log(e)})),d("GET","/match/",{},(function(e,t){200===t&&q(e),console.log(e)}))}),[]),Object(s.useEffect)((function(){U.on("SetSocket",(function(e){d("POST","/socket/",{socketID:e},(function(e,t){console.log(e)}))})),U.on("LeaveEvent",(function(e){l("current"),g({display:!0,message:"Your match left the event, please wait for the next round!"})})),U.on("TimerUpdate",(function(e){if(ye.current.seconds<0&&"waiting"===c.current&&(d("GET","/event/?action=next",{},(function(e,t){200===t&&k(e)})),l("current")),parseInt(ye.current.seconds)+60*parseInt(ye.current.minutes)<=-5){var t=(Math.abs(parseInt(ye.current.seconds))-5+Math.abs(60*parseInt(ye.current.minutes)))%15;if(0===t&&"current"===c.current&&3!==h.current){if(p(h.current+1),!0===_e.current){d("GET","/room/?action=my",{},(function(e,t){200===t&&A(e)})),d("GET","/match/",{},(function(e,t){200===t&&q(e),console.log(e)})),0===H.current.length?l("nomatch"):l("match");var n=new Date;pe(new Date(n.getTime()+15e3))}}else if(10===t&&"match"===c.current){l("feedback");var s=new Date;pe(new Date(s.getTime()+5e3))}else if(0===t&&"feedback"===c.current||"nomatch"===c.current){p(h.current+1),d("GET","/room/?action=my",{},(function(e,t){200===t&&A(e)})),d("GET","/match/",{},(function(e,t){200===t&&q(e)})),0===H.current.length?l("nomatch"):l("match");var a=new Date;pe(new Date(a.getTime()+15e3))}else 3===h.current&&(console.log("meeting ended"),l("end"),U.emit("EndEvent"),d("GET","/event/?action=next",{},(function(e,t){200===t&&k(e)})))}var i=new Date;ne(me(he.current-i)),ce(me(he.current-i)),function(e){ge.current=e,ve(e)}(e.difference),function(e){ye.current=e,X(e)}(e.timer)}))}),[U]),te.title_component=Object(r.jsxs)("div",{style:{textAlign:"center"},children:[Object(r.jsx)(T,{days:Z.days,hours:Z.hours,minutes:Z.minutes,seconds:Z.seconds}),Object(r.jsx)("p",{style:{marginBottom:20},children:be(new Date(w.time))})]}),te.event_tab_options.current.component=Object(r.jsx)(L,{leaveError:v,nextEvent:w,socket:U,setEventDisplay:l,setParticipate:Te}),te.event_tab_options.match.component=Object(r.jsx)(B,{setParticipate:Te,setLeaveError:g,timer:$,setEventDisplay:l,nextEvent:w,match:P.current,socket:U,user:M}),te.event_tab_options.feedback.component=Object(r.jsx)(D,{timer:ie,setEventDisplay:l,user:M,entries:ee}),te.event_tab_options.nomatch.component=Object(r.jsx)(Y,{timer:$,setParticipate:Te,socket:U,setEventDisplay:l,user:M,entries:ee}),ke?"waiting"===a?te.tabs[2]=te.event_tab_options.waiting:"current"===a?te.tabs[2]=te.event_tab_options.current:"match"===a?te.tabs[2]=te.event_tab_options.match:"nomatch"===a?te.tabs[2]=te.event_tab_options.nomatch:"feedback"===a?te.tabs[2]=te.event_tab_options.feedback:"end"===a&&(te.tabs[2]=te.event_tab_options.end):"waiting"===a?te.tabs[2]=te.event_tab_options.waiting:"current"===a?te.tabs[2]=te.event_tab_options.current:"end"===a&&(te.tabs[2]=te.event_tab_options.end),Object(r.jsx)(f,{tabData:te,showButtons:!1})};var he=function(e){var t=e.entries,n=e.handleSubmit;return Object(r.jsx)("div",{children:Object(r.jsxs)("form",{id:"login-form",children:[Object(r.jsx)("div",{className:"col-sm-5",children:Object(r.jsx)(O,{entries:t})}),Object(r.jsx)("div",{className:"col-sm-5 col-sm-5-login",style:{marginTop:50},children:Object(r.jsx)("div",{class:"flash_art_login",children:Object(r.jsx)("img",{src:"/static/assets/img/flash_art.png",alt:"GATHR"})})}),Object(r.jsxs)("div",{className:"col-sm-12 col-sm-12-login",children:[Object(r.jsx)("button",{className:"btn btn-primary btn-login",onClick:n,children:"Login"}),Object(r.jsx)("button",{className:"btn btn-secondary btn-login",onClick:function(e){e.preventDefault(),window.location.href="/register/"},children:"Register"})]})]})})};var pe=function(e){return se.tabs[0].component=Object(r.jsx)(he,{entries:ne,handleSubmit:function(e){e.preventDefault();var t=document.getElementById("login-form");console.log(t);var n=new FormData(t),s={};n.forEach((function(e,t){s[t]=e})),console.log(s),d("POST","/login/",s,(function(e,t){console.log(e),200===t&&(window.location.href="/")}))}}),Object(r.jsx)(f,{tabData:se,showButtons:!1})},fe=a.a.createElement,xe=document.getElementById("manage-area");xe&&c.a.render(fe(re,xe.dataset),xe);var Oe=document.getElementById("register-container");Oe&&c.a.render(fe(oe,Oe.dataset),Oe);var ve=document.getElementById("success-page");ve&&c.a.render(fe(w,ve.dataset),ve);var ge=document.getElementById("event-container");ge&&c.a.render(fe(je,ge.dataset),ge);var ye=document.getElementById("login-container");ye&&c.a.render(fe(pe,ye.dataset),ye)}},[[72,1,2]]]);
//# sourceMappingURL=main.3cf21a30.chunk.js.map